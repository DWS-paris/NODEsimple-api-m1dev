<ul id="postList"></ul>

<script>
    document.addEventListener('DOMContentLoaded', () => {
    
        fetch('/api/post', {
            method: 'GET'
        })
        // Get Fetch response
        .then( response => {
            return response.ok ? response.json() : console.error(reesponse)
        })
        // Extract json data
        .then( jsonData => {
            // Make a loop on jsonData colleection
            for( let post of jsonData.data ){
                // Add on post in the list
                document.querySelector('#postList').innerHTML += `
                    <li>
                        <p>${post.title}</p>
                        <a href="post/${post.id}"><i class="far fa-eye"></i></a>
                        <a href="#" class="delete" post-id="${post.id}"><i class="fas fa-trash"></i></i></a>
                    </li>
                `;
            }
        })
        // Get Fetch error
        .catch( err => console.error(err));
    
    })
</script>